(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-user-company-auth"],{"00e3":function(t,e,a){a("fb6a");var n=a("5c2a");(function(){var t=n.util;n.HMAC=function(e,a,n,i){n=n.length>4*e._blocksize?e(n,{asBytes:!0}):t.stringToBytes(n);for(var r=n,o=n.slice(0),s=0;s<4*e._blocksize;s++)r[s]^=92,o[s]^=54;var c=e(t.bytesToString(r)+e(t.bytesToString(o)+a,{asString:!0}),{asBytes:!0});return i&&i.asBytes?c:i&&i.asString?t.bytesToString(c):t.bytesToHex(c)}})(),t.exports=n},"106a":function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return r})),a.d(e,"a",(function(){return n}));var n={uniForms:a("c636").default,uniFormsItem:a("95e2").default,uniEasyinput:a("b7df").default},i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"content reg-page"},[a("v-uni-view",{staticClass:"input-group"},[1==t.companyAuth.verifyStatus?a("v-uni-view",{staticClass:"result-dairenzheng"},[a("v-uni-text",{staticClass:"yzb yzb-dairenzheng"}),a("v-uni-text",[t._v("认证审核中")])],1):t._e(),3==t.companyAuth.verifyStatus?a("v-uni-view",{staticClass:"result-renzheng"},[a("v-uni-text",{staticClass:"yzb yzb-renzheng"}),a("v-uni-text",[t._v("认证通过")])],1):t._e(),2==t.companyAuth.verifyStatus?a("v-uni-view",{staticClass:"result-shibai"},[a("v-uni-text",{staticClass:"yzb yzb-gerenrenzhengchenggo"}),a("v-uni-text",[t._v("认证失败")])],1):t._e(),2==t.companyAuth.verifyStatus?a("v-uni-view",{staticClass:"failure-reason"},[a("v-uni-text",{staticClass:"yzb yzb-tixing"}),a("v-uni-text",[t._v("失败原因："+t._s(t.companyAuth.refuseReason))])],1):t._e(),a("v-uni-view",{staticStyle:{padding:"20upx"}},[a("uni-forms",{ref:"baseForm",attrs:{modelValue:t.companyAuth}},[a("uni-forms-item",{attrs:{label:"公司名称",required:!0}},[a("uni-easyinput",{attrs:{placeholder:"请输入公司名称"},model:{value:t.companyAuth.realName,callback:function(e){t.$set(t.companyAuth,"realName",e)},expression:"companyAuth.realName"}})],1),a("uni-forms-item",{attrs:{label:"法人姓名",required:!0}},[a("uni-easyinput",{attrs:{placeholder:"请输入法人姓名"},model:{value:t.companyAuth.legalPerson,callback:function(e){t.$set(t.companyAuth,"legalPerson",e)},expression:"companyAuth.legalPerson"}})],1),a("uni-forms-item",{attrs:{label:"信用代码",required:!0}},[a("uni-easyinput",{attrs:{placeholder:"请输入统一社会信用代码"},model:{value:t.companyAuth.identity,callback:function(e){t.$set(t.companyAuth,"identity",e)},expression:"companyAuth.identity"}})],1)],1),a("uni-forms-item",{attrs:{label:"营业执照",required:!0,"label-position":"top"}},[a("v-uni-view",{staticClass:"module-image"},[t._l(t.ablumList,(function(e,n){return t.ablumList.length>0?a("v-uni-view",{key:n,staticClass:"image_view"},[a("v-uni-image",{staticClass:"release_img",attrs:{src:e},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.uploadImgs(n)}}}),a("v-uni-view",{staticClass:"im'g_delete center-algin",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.deleteImg(n)}}},[a("v-uni-text",{staticClass:"text-white text-size-base text-color-inverse"},[t._v("X")])],1)],1):t._e()})),t.ablumList.length<1?a("v-uni-view",{staticClass:"release_img center-algin release_img_dottedLine",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.uploadImgs()}}},[a("v-uni-text",{staticClass:"text-grey"},[t._v("+")])],1):t._e()],2)],1)],1)],1),t.companyAuth.verifyStatus&&0!=t.companyAuth.verifyStatus&&2!=t.companyAuth.verifyStatus?t._e():a("v-uni-view",{staticClass:"btn-row"},[a("v-uni-button",{staticClass:"primary",attrs:{type:"primary"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.update.apply(void 0,arguments)}}},[t._v("提交")])],1)],1)},r=[]},2938:function(t,e,a){"use strict";a.r(e);var n=a("7e74"),i=a.n(n);for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);e["default"]=i.a},"2c69":function(t,e,a){var n=a("24fb");e=n(!1),e.push([t.i,'@charset "UTF-8";\n/* 页面左右间距 */\n/* 文字尺寸 */\n/*文字颜色*/\n/* 边框颜色 */\n/* 背景颜色 */\n/* 图片加载中颜色 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.input-group[data-v-58ac3a3d]{border-radius:%?10?%;margin-top:%?10?%;overflow:hidden;margin-bottom:%?100?%}.input-row[data-v-58ac3a3d]{display:flex;flex-direction:row;position:relative;background:#fff;justify-content:space-between;align-items:center;padding:%?15?% %?10?%}.input-row .title[data-v-58ac3a3d]{width:25%;padding:%?20?% 0;padding-left:%?20?%;line-height:%?50?%}.border-bottom-1px[data-v-58ac3a3d]{margin:0 %?20?%;border-bottom:%?1?% solid #e2e2e2}.border-top-1px[data-v-58ac3a3d]{margin:0 %?20?%;border-top:%?1?% solid #e2e2e2}.result-dairenzheng[data-v-58ac3a3d]{display:flex;flex-direction:column;align-items:center;justify-content:center;margin-bottom:%?20?%}.result-dairenzheng uni-text[data-v-58ac3a3d]:first-child{font-size:%?100?%;color:#ff822b;font-weight:700}.result-dairenzheng uni-text[data-v-58ac3a3d]:nth-child(2){font-size:%?40?%;color:#ff822b;font-weight:700}.result-renzheng[data-v-58ac3a3d]{display:flex;flex-direction:column;align-items:center;justify-content:center;margin-bottom:%?20?%}.result-renzheng uni-text[data-v-58ac3a3d]:first-child{font-size:%?100?%;color:#4cd964;font-weight:700}.result-renzheng uni-text[data-v-58ac3a3d]:nth-child(2){font-size:%?40?%;color:#4cd964;font-weight:700}.result-shibai[data-v-58ac3a3d]{display:flex;flex-direction:column;align-items:center;justify-content:center;margin-bottom:%?20?%}.result-shibai uni-text[data-v-58ac3a3d]:first-child{font-size:%?100?%;color:#dd524d;font-weight:700}.result-shibai uni-text[data-v-58ac3a3d]:nth-child(2){font-size:%?40?%;color:#dd524d;font-weight:700}.failure-reason[data-v-58ac3a3d]{color:#dd524d;display:flex;flex-direction:row;align-items:center;justify-content:center;font-size:%?32?%}.failure-reason uni-text[data-v-58ac3a3d]:nth-child(1){margin-right:%?10?%}.notice[data-v-58ac3a3d]{display:flex;flex-direction:row;align-items:center;padding:%?20?%}.notice .yzb-tixing[data-v-58ac3a3d]{margin-right:%?10?%;color:#f0ad4e;font-weight:700;font-size:%?40?%}.notice uni-text[data-v-58ac3a3d]:last-child{color:#666}.bind-phone[data-v-58ac3a3d]{color:#666}.header[data-v-58ac3a3d]{display:flex;flex-direction:column}.header .tip[data-v-58ac3a3d]{font-size:%?24?%;color:#666;margin-left:%?20?%}.head-img[data-v-58ac3a3d]{margin-right:%?15?%}.head-img uni-image[data-v-58ac3a3d]{width:%?160?%;height:%?160?%;border-radius:50%}uni-radio-group[data-v-58ac3a3d]{margin-right:%?10?%}.radio[data-v-58ac3a3d]{margin-left:%?20?%}.input-column[data-v-58ac3a3d]{display:flex;flex-direction:column;background-color:#fff;padding:%?30?% %?20?% %?10?% %?20?%}.input-column .title[data-v-58ac3a3d]{margin-left:%?10?%}.input-column .input-item[data-v-58ac3a3d]{display:flex;flex-direction:row;justify-content:space-between;align-items:center}.input-column .picker[data-v-58ac3a3d]{padding:%?30?% 0 %?20?% 0;margin-left:%?10?%;position:relative}.input-column .picker uni-picker[data-v-58ac3a3d]{font-size:%?32?%;width:100%;position:absolute}.input-column .yzb-next[data-v-58ac3a3d]{float:right;color:#999}.content[data-v-58ac3a3d]{background:#fff}.btn-row[data-v-58ac3a3d]{position:fixed;bottom:%?10?%;width:100%;box-sizing:border-box}.btn-row uni-button[data-v-58ac3a3d]{background-color:#26cd8c;height:%?90?%;line-height:%?90?%;font-size:%?34?%}.module-image[data-v-58ac3a3d]{width:100%;display:flex;flex-wrap:wrap;padding:%?20?% 0}.module-image uni-view[data-v-58ac3a3d]{display:flex}.module-image .image_view[data-v-58ac3a3d]{width:100%}.module-image .release_img[data-v-58ac3a3d]{width:95%;height:%?300?%;margin-left:%?20?%;margin-bottom:%?10?%}.module-image .release_img_dottedLine[data-v-58ac3a3d]{border:1px dashed #8a8a8a}.module-image .release_img uni-text[data-v-58ac3a3d]{font-size:%?50?%}',""]),t.exports=e},"42c47":function(t,e,a){"use strict";a.r(e);var n=a("106a"),i=a("2938");for(var r in i)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(r);a("e3fc");var o=a("f0c5"),s=Object(o["a"])(i["default"],n["b"],n["c"],!1,null,"58ac3a3d",null,!1,n["a"],void 0);e["default"]=s.exports},"5c2a":function(t,e,a){a("a9e3"),a("14d9"),a("d401"),a("d3b7"),a("25f0"),a("e25e"),a("0eb6"),a("b7ef"),a("8bd4"),a("81b2"),a("ac1f"),a("5319");var n={};(function(){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e=n.util={rotl:function(t,e){return t<<e|t>>>32-e},rotr:function(t,e){return t<<32-e|t>>>e},endian:function(t){if(t.constructor==Number)return 16711935&e.rotl(t,8)|4278255360&e.rotl(t,24);for(var a=0;a<t.length;a++)t[a]=e.endian(t[a]);return t},randomBytes:function(t){for(var e=[];t>0;t--)e.push(Math.floor(256*Math.random()));return e},stringToBytes:function(t){for(var e=[],a=0;a<t.length;a++)e.push(t.charCodeAt(a));return e},bytesToString:function(t){for(var e=[],a=0;a<t.length;a++)e.push(String.fromCharCode(t[a]));return e.join("")},stringToWords:function(t){for(var e=[],a=0,n=0;a<t.length;a++,n+=8)e[n>>>5]|=t.charCodeAt(a)<<24-n%32;return e},bytesToWords:function(t){for(var e=[],a=0,n=0;a<t.length;a++,n+=8)e[n>>>5]|=t[a]<<24-n%32;return e},wordsToBytes:function(t){for(var e=[],a=0;a<32*t.length;a+=8)e.push(t[a>>>5]>>>24-a%32&255);return e},bytesToHex:function(t){for(var e=[],a=0;a<t.length;a++)e.push((t[a]>>>4).toString(16)),e.push((15&t[a]).toString(16));return e.join("")},hexToBytes:function(t){for(var e=[],a=0;a<t.length;a+=2)e.push(parseInt(t.substr(a,2),16));return e},bytesToBase64:function(a){if("function"==typeof btoa)return btoa(e.bytesToString(a));for(var n,i=[],r=0;r<a.length;r++)switch(r%3){case 0:i.push(t.charAt(a[r]>>>2)),n=(3&a[r])<<4;break;case 1:i.push(t.charAt(n|a[r]>>>4)),n=(15&a[r])<<2;break;case 2:i.push(t.charAt(n|a[r]>>>6)),i.push(t.charAt(63&a[r])),n=-1}void 0!=n&&-1!=n&&i.push(t.charAt(n));while(i.length%4!=0)i.push("=");return i.join("")},base64ToBytes:function(a){if("function"==typeof atob)return e.stringToBytes(atob(a));a=a.replace(/[^A-Z0-9+\/]/gi,"");for(var n=[],i=0;i<a.length;i++)switch(i%4){case 1:n.push(t.indexOf(a.charAt(i-1))<<2|t.indexOf(a.charAt(i))>>>4);break;case 2:n.push((15&t.indexOf(a.charAt(i-1)))<<4|t.indexOf(a.charAt(i))>>>2);break;case 3:n.push((3&t.indexOf(a.charAt(i-1)))<<6|t.indexOf(a.charAt(i)));break}return n}};n.mode={}})(),t.exports=n},6442:function(t,e,a){a("d9e2"),a("d401"),a("e9c4");var n=a("ae45"),i=a("8d76");a("00e3"),a("894d4");var r=a("5c2a"),o=function(){var t=new Date;t.setHours(t.getHours()+n.timeout);var e=t.toISOString(),a={expiration:e,conditions:[["content-length-range",0,838860800]]},r=i.encode(JSON.stringify(a));return console.log(r),r},s=function(t){var e=n.AccessKeySecret,a=r.HMAC(r.SHA1,t,e,{asBytes:!0}),i=r.util.bytesToBase64(a);return console.log(i),i};t.exports=function(t,e,a,i,r){if(!e||e.length<9)uni.showModal({title:"图片错误",content:"请重试",showCancel:!1});else{var c=null;c=1==t?a+(new Date).getTime()+Math.floor(150*Math.random())+".mp4":a+(new Date).getTime()+Math.floor(150*Math.random())+".png";var u=n.uploadImageUrl,d=n.OSSAccessKeyId,l=o(),f=s(l);uni.uploadFile({url:u,filePath:e,name:"file",formData:{key:c,policy:l,OSSAccessKeyId:d,signature:f,success_action_status:"200"},success:function(t){console.log(t),200==t.statusCode?i(u+c):r(new Error("上传错误:"+JSON.stringify(t)))},fail:function(t){t.wxaddinfo=u,r(t)}})}}},"7e74":function(t,e,a){"use strict";a("7a82");var n=a("ee27").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("e9c4"),a("14d9"),a("a434");var i=n(a("f07e")),r=n(a("c964")),o=n(a("f1cf")),s=n(a("6442")),c=n(a("8e77")),u=n(a("2595")),d={components:{mInput:o.default},computed:{},data:function(){return{companyAuth:{verifyStatus:0,realName:"",legalPerson:"",identity:"",companyLicense:null},ablumList:[],imgList:[],mediaType:0}},onLoad:function(){var t=this;return(0,r.default)((0,i.default)().mark((function e(){return(0,i.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.getDetail();case 1:case"end":return e.stop()}}),e)})))()},methods:{getDetail:function(){var t=this;return(0,r.default)((0,i.default)().mark((function e(){var a;return(0,i.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return uni.showLoading(),e.next=3,t.$apis.getCompanyDetail();case 3:a=e.sent,console.log("getDetail====",a),a&&(t.companyAuth=a,a.businessLicense&&(t.ablumList=a.businessLicense.split(",")),t.$forceUpdate(),console.log(t.companyAuth)),uni.hideLoading();case 7:case"end":return e.stop()}}),e)})))()},update:function(){var t=this;return(0,r.default)((0,i.default)().mark((function e(){var a,n,r,o,s;return(0,i.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(n in a="",t.ablumList)a+=t.ablumList[n]+",";if(a.length>0&&(a=a.substr(0,a.length-1)),t.companyAuth.businessLicense=a,r=c.default.check(t.companyAuth,u.default.regCompanyAuthRule),r){e.next=8;break}return uni.showToast({title:c.default.error,icon:"none"}),e.abrupt("return");case 8:return o=JSON.parse(JSON.stringify(t.companyAuth)),o.verifyStatus=1,e.next=12,t.$apis.updateCompanyAuth(o);case 12:s=e.sent,s&&uni.navigateBack({delta:1});case 14:case"end":return e.stop()}}),e)})))()},uploadImgs:function(){var t=this;this.cover="",uni.chooseMedia({count:9-t.ablumList.length,mediaType:["image"],sourceType:["album","camera"],maxDuration:30,camera:"back",success:function(e){console.log(e),console.log(e.tempFiles);var a=e.tempFiles;if("video"==e.type){t.mediaType=1;var n=t.imgList;n.length<9&&n.push(a[0].tempFilePath),t.imgList=n}else{var i=t.imgList;if(!(i.length<9))return void uni.showToast({icon:"none",title:"最多只能有九张图片"});for(var r=0;r<a.length;r++)i.push(a[r].tempFilePath);t.imgList=i}t.uploadFiles()}})},uploadFiles:function(){var t=this;for(var e in uni.showLoading(),this.imgList)1==this.mediaType?(0,s.default)(1,this.imgList[e],"hjy/auth/",(function(e){t.videoUrl=e,t.cover=e+"?x-oss-process=video/snapshot,t_1000,f_jpg,w_800,h_600,m_fast,ar_auto",t.ablumList.push(e)})):(0,s.default)(0,this.imgList[e],"hjy/auth/",(function(e){console.log("图片上传结果：",e),t.ablumList.push(e)}));this.imgList=[],uni.hideLoading(),console.log("ablumList===",this.ablumList)},previewImg:function(t){uni.previewImage({indicator:"number",loop:!0,current:this.ablumList[t],urls:this.ablumList})},deleteImg:function(t){0==this.mediaType?this.ablumList.splice(t,1):(this.imgList=[],this.mediaType=0,this.$forceUpdate())}}};e.default=d},"894d4":function(t,e,a){var n=a("5c2a");(function(){var t=n.util,e=n.SHA1=function(a,n){var i=t.wordsToBytes(e._sha1(a));return n&&n.asBytes?i:n&&n.asString?t.bytesToString(i):t.bytesToHex(i)};e._sha1=function(e){var a=t.stringToWords(e),n=8*e.length,i=[],r=1732584193,o=-271733879,s=-1732584194,c=271733878,u=-1009589776;a[n>>5]|=128<<24-n%32,a[15+(n+64>>>9<<4)]=n;for(var d=0;d<a.length;d+=16){for(var l=r,f=o,h=s,g=c,m=u,p=0;p<80;p++){if(p<16)i[p]=a[d+p];else{var v=i[p-3]^i[p-8]^i[p-14]^i[p-16];i[p]=v<<1|v>>>31}var b=(r<<5|r>>>27)+u+(i[p]>>>0)+(p<20?1518500249+(o&s|~o&c):p<40?1859775393+(o^s^c):p<60?(o&s|o&c|s&c)-1894007588:(o^s^c)-899497514);u=c,c=s,s=o<<30|o>>>2,o=r,r=b}r+=l,o+=f,s+=h,c+=g,u+=m}return[r,o,s,c,u]},e._blocksize=16})(),t.exports=n},"8d76":function(t,e){var a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=new Array(-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,-1,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,-1,-1,-1,-1,-1);t.exports={encode:function(t){var e,n,i,r,o,s;i=t.length,n=0,e="";while(n<i){if(r=255&t.charCodeAt(n++),n==i){e+=a.charAt(r>>2),e+=a.charAt((3&r)<<4),e+="==";break}if(o=t.charCodeAt(n++),n==i){e+=a.charAt(r>>2),e+=a.charAt((3&r)<<4|(240&o)>>4),e+=a.charAt((15&o)<<2),e+="=";break}s=t.charCodeAt(n++),e+=a.charAt(r>>2),e+=a.charAt((3&r)<<4|(240&o)>>4),e+=a.charAt((15&o)<<2|(192&s)>>6),e+=a.charAt(63&s)}return e},decode:function(t){var e,a,i,r,o,s,c;s=t.length,o=0,c="";while(o<s){do{e=n[255&t.charCodeAt(o++)]}while(o<s&&-1==e);if(-1==e)break;do{a=n[255&t.charCodeAt(o++)]}while(o<s&&-1==a);if(-1==a)break;c+=String.fromCharCode(e<<2|(48&a)>>4);do{if(i=255&t.charCodeAt(o++),61==i)return c;i=n[i]}while(o<s&&-1==i);if(-1==i)break;c+=String.fromCharCode((15&a)<<4|(60&i)>>2);do{if(r=255&t.charCodeAt(o++),61==r)return c;r=n[r]}while(o<s&&-1==r);if(-1==r)break;c+=String.fromCharCode((3&i)<<6|r)}return c},utf16to8:function(t){var e,a,n,i;for(e="",n=t.length,a=0;a<n;a++)i=t.charCodeAt(a),i>=1&&i<=127?e+=t.charAt(a):i>2047?(e+=String.fromCharCode(224|i>>12&15),e+=String.fromCharCode(128|i>>6&63),e+=String.fromCharCode(128|i>>0&63)):(e+=String.fromCharCode(192|i>>6&31),e+=String.fromCharCode(128|i>>0&63));return e},utf8to16:function(t){var e,a,n,i,r,o;e="",n=t.length,a=0;while(a<n)switch(i=t.charCodeAt(a++),i>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:e+=t.charAt(a-1);break;case 12:case 13:r=t.charCodeAt(a++),e+=String.fromCharCode((31&i)<<6|63&r);break;case 14:r=t.charCodeAt(a++),o=t.charCodeAt(a++),e+=String.fromCharCode((15&i)<<12|(63&r)<<6|(63&o)<<0);break}return e}}},"9e1a":function(t,e,a){var n=a("2c69");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var i=a("4f06").default;i("078f31ec",n,!0,{sourceMap:!1,shadowMode:!1})},ae45:function(t,e){t.exports={uploadImageUrl:"https://test.oss-cn-hangzhou.aliyuncs.com/",AccessKeySecret:"xxxxxxxxxxxxx",OSSAccessKeyId:"xxxxxxxxxxxxx",timeout:876e3}},e3fc:function(t,e,a){"use strict";var n=a("9e1a"),i=a.n(n);i.a}}]);